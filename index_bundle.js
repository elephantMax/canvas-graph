(()=>{"use strict";var t={705:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s="",n=void 0!==e[5];return e[4]&&(s+="@supports (".concat(e[4],") {")),e[2]&&(s+="@media ".concat(e[2]," {")),n&&(s+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),s+=t(e),n&&(s+="}"),e[2]&&(s+="}"),e[4]&&(s+="}"),s})).join("")},e.i=function(t,s,n,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(o[h]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&o[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),s&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=s):l[2]=s),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},738:t=>{t.exports=function(t){return t[1]}},810:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(738),i=s.n(n),r=s(705),o=s.n(r)()(i());o.push([t.id,"body {\r\n  margin: 0;\r\n  font-family: sans-serif;\r\n}\r\n\r\n.container {\r\n  max-width: 900px;\r\n  width: 90%;\r\n  margin: 100px auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 5px;\r\n  justify-content: flex-start;\r\n}\r\n\r\ncanvas {\r\n  background-color: #d6d6d6;\r\n}",""]);const a=o},379:t=>{var e=[];function s(t){for(var s=-1,n=0;n<e.length;n++)if(e[n].identifier===t){s=n;break}return s}function n(t,n){for(var r={},o=[],a=0;a<t.length;a++){var h=t[a],c=n.base?h[0]+n.base:h[0],l=r[c]||0,d="".concat(c," ").concat(l);r[c]=l+1;var u=s(d),f={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==u)e[u].references++,e[u].updater(f);else{var p=i(f,n);n.byIndex=a,e.splice(a,0,{identifier:d,updater:p,references:1})}o.push(d)}return o}function i(t,e){var s=e.domAPI(e);return s.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;s.update(t=e)}else s.remove()}}t.exports=function(t,i){var r=n(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=s(r[o]);e[a].references--}for(var h=n(t,i),c=0;c<r.length;c++){var l=s(r[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=h}}},569:t=>{var e={};t.exports=function(t,s){var n=function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,s)=>{t.exports=function(t){var e=s.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(s){!function(t,e,s){var n="";s.supports&&(n+="@supports (".concat(s.supports,") {")),s.media&&(n+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(n+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),n+=s.css,i&&(n+="}"),s.media&&(n+="}"),s.supports&&(n+="}");var r=s.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,s)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,s),r.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t="dot",e="line";class n{static run(t){return new Promise((async e=>{if(!1===t())return e(!0);window.requestAnimationFrame((()=>{e(n.run(t))}))}))}}class i{constructor(t){this.type=t}}class r extends i{constructor(e,s){super(t),this.x=e,this.y=s,this.size=5}draw(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fillStyle="#000",t.fill(),t.stroke()}remove(){r.dots=r.dots.filter((t=>t.x!==this.x))}getClosestLeft(){let t=null,e=null;return r.dots.forEach((s=>{if(s.x>=this.x)return;const n=Math.abs(s.x-this.x);(null===t||t>n)&&(e=s,t=n)})),e}getClosestRight(){let t=null,e=null;return r.dots.forEach((s=>{if(s.x<=this.x)return;const n=Math.abs(s.x-this.x);(null===t||t>n)&&(e=s,t=n)})),e}}class o extends i{constructor(t){super("grid"),this.colls=t.colls,this.rows=t.rows,this.marginX=t.marginX,this.width=t.width,this.height=t.height,this.lineWidth=t.lineWidth,this.xPositions=[],this.yPositions=[]}generateGrid(){const t=(this.width-2*this.marginX)/(this.colls-1),e=this.height/this.rows;for(let e=0;e<this.colls;e++){const s=Math.round(this.marginX+e*t);this.xPositions.push(s)}for(let t=0;t<this.rows;t++){const s=this.marginX+t*e;this.yPositions.push(s)}}draw(t){t.fillStyle="#ABABAB",this.xPositions.forEach((e=>{t.fillRect(e,0,this.lineWidth,this.height)})),this.yPositions.forEach((e=>{t.fillRect(0,e,this.width,this.lineWidth)}))}getClosestColl(t){let e=null,s=null;return this.xPositions.forEach((n=>{const i=Math.abs(t-n);(null===e||i<=e)&&(e=i,s=n)})),s}}class a extends i{constructor(t,s,n,i){super(e),this.startX=t,this.startY=s,this.endX=n,this.endY=i}static connectDots(t){const e=[];return[...t].sort(((t,e)=>t.x>e.x?1:e.x>t.x?-1:0)).forEach(((t,s,n)=>{const i=n[s+1];if(!i)return;const r=new a(t.x,t.y,i.x,i.y);return e.push(r)})),e}draw(t){t.beginPath(),t.moveTo(this.startX,this.startY),t.lineTo(this.endX,this.endY),t.stroke()}}const h=()=>({[e]:[],[t]:[]});class c{constructor(t,e){this.el=document.querySelector(t),this.width=e.width,this.height=e.height,this.elements=h(),this.init()}setGrid(){this.grid=new o({colls:10,rows:10,width:this.width,height:this.height,lineWidth:1,marginX:50}),this.grid.generateGrid()}setOffsets(){const{x:t,y:e}=this.el.getBoundingClientRect();this.offsetX=t,this.offsetY=e}addEventListener(){this.clickHandler=this.clickHandler.bind(this),this.el.addEventListener("click",this.clickHandler),window.addEventListener("resize",this.setOffsets),window.addEventListener("scroll",this.setOffsets)}init(){this.ctx=this.el.getContext("2d"),this.el.setAttribute("width",this.width),this.el.setAttribute("height",this.height),this.setGrid(),this.drawElement(this.grid),this.setOffsets=this.setOffsets.bind(this),this.setOffsets(),this.addEventListener()}addElement(t){const{type:e}=t;this.elements[e].push(t)}drawElement(t){t.draw(this.ctx)}clear(){this.ctx.clearRect(0,0,this.width,this.height),this.drawElement(this.grid)}redraw(){this.clear(),this.elements.line=a.connectDots(this.elements.dot),Object.values(this.elements).forEach((t=>{t.forEach((t=>{this.drawElement(t)}))}))}async clickHandler(t){const{clientX:e,clientY:s}=t,i=e-this.offsetX,o=s-this.offsetY,a=this.grid.getClosestColl(i),h=this.elements.dot.find((t=>t.x===a));if(h){let t=h.y;const e=5,s=o>h.y;await n.run((()=>{t=s?t+e:t-e;const n=new r(a,t);if(this.addElement(n),this.redraw(),this.elements.dot=this.elements.dot.filter((t=>t.x!==n.x)),s&&t>=o||!s&&t<=o)return!1}))}this.addElement(new r(a,o)),this.redraw()}reset(){this.clear(),this.elements=h()}}var l=s(379),d=s.n(l),u=s(795),f=s.n(u),p=s(569),m=s.n(p),v=s(565),g=s.n(v),x=s(216),w=s.n(x),y=s(589),b=s.n(y),E=s(810),C={};C.styleTagTransform=b(),C.setAttributes=g(),C.insert=m().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=w(),d()(E.Z,C),E.Z&&E.Z.locals&&E.Z.locals;const P=new c("#canvas",{width:800,height:600});document.querySelector("#button-clear").addEventListener("click",(()=>{P.reset()})),new c("#canvas-2",{width:500,height:400})})()})();